@if(isVisible){<div>
    <div (click)="onClick()" class="fixed bg-black opacity-25 w-full h-full z-10"></div>

    <div class="fixed history_page" >
        <div class="flex justify-between items-center history_header">
            <span class="ml-5 text-xl font-bold text-white">History</span>
            <a (click)="onClick()" ><svg class="mr-5" fill="#FFFFFF" width="30px" height="30px" viewBox="0 0 24 24" id="cross" data-name="Flat Line" xmlns="http://www.w3.org/2000/svg"><path id="primary" d="M19,19,5,5M19,5,5,19" style="fill: white; stroke: rgb(255, 255, 255); stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path></svg></a>
        </div>

        
        @if(showMore){
            <p-scrollPanel [style]="{ height: '730px' }"> 
            <p> 
                @for(item of history; track history.id){
                    <div class="flex-row ml-5 mt-5 items-baseline">
                            <div class="flex items-center">
                                <div>
                                    <svg class="mr-2" width="10px" height="10px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" ><path fill="#4C1D95" d="M8 3a5 5 0 100 10A5 5 0 008 3z"/></svg>
                                </div>
                                <div class=" ml-1 w-72 items-center justify-between">
                                    <span class="flex text-violet-900 history_span"> 
                                        {{item.eventDescription}}
                                    </span>  
                                </div>
                            </div>
                            <span class="roboto-light-italic ml-5 text-sm text-violet-900 ">
                               {{item.timesetup | date:'MMM d'}} at {{item.timesetup | date:'h:mm a' | lowercase }}
                            </span>
                    </div>
                }
            </p> 
        </p-scrollPanel>
        }@else {
            @for(item of history.slice(0,8); track history.id){
                <div class="flex-row ml-5 mt-5 items-baseline">
                        <div class="flex items-center">
                            <div>
                                <svg class="mr-2" width="10px" height="10px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" ><path fill="#4C1D95" d="M8 3a5 5 0 100 10A5 5 0 008 3z"/></svg>
                            </div>
                            <div class=" ml-1 w-72 items-center justify-between">
                                <span class="flex text-violet-900 history_span"> 
                                    {{item.eventDescription}}
                                </span>  
                            </div>
                        </div>
                        <span class="roboto-light-italic ml-5 text-sm text-violet-900 ">
                           {{item.timesetup | date:'MMM d'}} at {{item.timesetup | date:'h:mm a' | lowercase }}
                        </span>
                </div>
                
            }

            <button (click)="onClickShowMore()" class="fixed bg-white flex history_button gap-2 bottom-0 border-button border-solid m-5 items-center text-sm justify-center font-bold rounded focus:outline-none  hover:bg-gray-200">
                <svg width="25px" height="25px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.7071 1.29289C14.0976 1.68342 14.0976 2.31658 13.7071 2.70711L12.4053 4.00896C17.1877 4.22089 21 8.16524 21 13C21 17.9706 16.9706 22 12 22C7.02944 22 3 17.9706 3 13C3 12.4477 3.44772 12 4 12C4.55228 12 5 12.4477 5 13C5 16.866 8.13401 20 12 20C15.866 20 19 16.866 19 13C19 9.2774 16.0942 6.23349 12.427 6.01281L13.7071 7.29289C14.0976 7.68342 14.0976 8.31658 13.7071 8.70711C13.3166 9.09763 12.6834 9.09763 12.2929 8.70711L9.29289 5.70711C9.10536 5.51957 9 5.26522 9 5C9 4.73478 9.10536 4.48043 9.29289 4.29289L12.2929 1.29289C12.6834 0.902369 13.3166 0.902369 13.7071 1.29289Z" fill="#0F1729"/></svg>
                <span class="mr-2">Show more</span>
            </button>
        }
        

        
        
        
        
    </div>
</div>
}
